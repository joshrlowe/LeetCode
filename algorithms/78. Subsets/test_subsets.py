import pytest  # type: ignore
from subsets import subsets
from typing import List


@pytest.mark.parametrize(
    "nums, expected",
    [
        ([], [[]]),
        ([1], [[], [1]]),
        ([1, 2], [[], [1], [2], [1, 2]]),
        ([1, 2, 3], [[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]),
        ([0], [[], [0]]),
        (
            [1, 2, 3, 4],
            [
                [],
                [1],
                [2],
                [3],
                [4],
                [1, 2],
                [1, 3],
                [1, 4],
                [2, 3],
                [2, 4],
                [3, 4],
                [1, 2, 3],
                [1, 2, 4],
                [1, 3, 4],
                [2, 3, 4],
                [1, 2, 3, 4],
            ],
        ),
        ([1, 2, 2], [[], [1], [2], [2], [1, 2], [1, 2], [2, 2], [1, 2, 2]]),
        ([1, -1], [[], [1], [-1], [1, -1]]),
        (
            [1, 2, 3, 4, 5],
            [
                [],
                [1],
                [2],
                [3],
                [4],
                [5],
                [1, 2],
                [1, 3],
                [1, 4],
                [1, 5],
                [2, 3],
                [2, 4],
                [2, 5],
                [3, 4],
                [3, 5],
                [4, 5],
                [1, 2, 3],
                [1, 2, 4],
                [1, 2, 5],
                [1, 3, 4],
                [1, 3, 5],
                [1, 4, 5],
                [2, 3, 4],
                [2, 3, 5],
                [2, 4, 5],
                [3, 4, 5],
                [1, 2, 3, 4],
                [1, 2, 3, 5],
                [1, 2, 4, 5],
                [1, 3, 4, 5],
                [2, 3, 4, 5],
                [1, 2, 3, 4, 5],
            ],
        ),
    ],
)
def test_subsets(nums: List[int], expected: List[List[int]]) -> None:
    result = subsets(nums)
    result.sort()
    expected.sort()
    assert result == expected, f"nums: {nums}, expected: {expected}, result: {result}"
